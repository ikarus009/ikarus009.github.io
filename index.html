<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Productos y Encuesta</title>
    <style>
        /* Estilos CSS para el catálogo de productos y la encuesta */
        /* Puedes personalizar estos estilos según tus preferencias */
    </style>
</head>
<body>

<!-- Encuesta -->
<div id="encuesta">
    <h2>Encuesta</h2>
    <form id="encuestaForm">
        <label for="sexo">Sexo:</label>
        <select id="sexo" name="sexo">
            <option value="hombre">Hombre</option>
            <option value="mujer">Mujer</option>
        </select><br>

        <label for="edad">Edad:</label>
        <input type="number" id="edad" name="edad" min="1" max="128"><br>

        <label for="estadoAnimo">Estado de Ánimo:</label>
        <select id="estadoAnimo" name="estadoAnimo">
            <option value="feliz">Feliz</option>
            <option value="neutral">Neutral</option>
            <option value="triste">Triste</option>
            <option value="asco">Asco</option>
            <option value="enojado">Enojado</option>
            <option value="miedo">Miedo</option>
            <option value="sorpresa">Sorpresa</option>
        </select><br>

        <label for="raza">Raza:</label>
        <select id="raza" name="raza">
            <option value="blanco">Blanco</option>
            <option value="hispano-latino">Hispano Latino</option>
            <option value="indio">Indio</option>
            <option value="asiatico">Asiático</option>
            <option value="negro">Negro</option>
            <option value="oriente-medio">Oriente Medio</option>
        </select><br>

        <input type="submit" value="Enviar">
    </form>
</div>

<!-- Catálogo de Productos -->
<div id="catalogo">
    <h2>Catálogo de Productos</h2>
    <!-- Barra de navegación para seleccionar clases de productos -->
    <div id="barraNavegacion">
        <button onclick="mostrarProductos('bebidas-alcoholicas')">Bebidas Alcohólicas</button>
        <button onclick="mostrarProductos('comidas')">Comidas</button>
        <button onclick="mostrarProductos('bebidas-no-alcoholicas')">Bebidas No Alcohólicas</button>
        <!-- Agrega más botones para otras clases de productos según sea necesario -->
    </div>
    <!-- Contenedor para mostrar los productos -->
    <div id="productos">
        <!-- Los productos se cargarán aquí mediante JavaScript -->
    </div>
</div>

<script>
    // Función para mostrar productos según la clase seleccionada
    function mostrarProductos(clase) {
        // Limpiar el contenido anterior
        document.getElementById("productos").innerHTML = "";

        // Leer los datos del archivo CSV
        fetch('bdprod.csv')
            .then(response => response.text())
            .then(data => {
                // Parsear los datos CSV
                const productos = Papa.parse(data, { header: true }).data;

                // Filtrar productos por la clase seleccionada
                const productosFiltrados = productos.filter(producto => producto.CATEGORIA === clase);

                // Iterar sobre los productos filtrados
                productosFiltrados.forEach(producto => {
                    // Crear elementos HTML para mostrar el producto
                    const productoElemento = document.createElement("div");
                    productoElemento.classList.add("producto");

                    const imagenElemento = document.createElement("img");
                    imagenElemento.src = producto.ID + ".jpg"; // Suponiendo que los nombres de las imágenes coinciden con los ID de los productos
                    productoElemento.appendChild(imagenElemento);

                    const descripcionElemento = document.createElement("p");
                    descripcionElemento.textContent = "Descripción: " + producto.DESCRIPCION;
                    productoElemento.appendChild(descripcionElemento);

                    const precioElemento = document.createElement("p");
                    precioElemento.textContent = "Precio: $" + producto.PRECIO;
                    productoElemento.appendChild(precioElemento);

                    const checkboxElemento = document.createElement("input");
                    checkboxElemento.type = "checkbox";
                    checkboxElemento.value = producto.ID;
                    checkboxElemento.addEventListener("change", function() {
                        // Lógica para guardar el estado del checkbox
                        if (this.checked) {
                            // Producto seleccionado
                            console.log("Producto seleccionado: " + this.value);
                            // Aquí puedes guardar el estado de selección en una variable
                        } else {
                            // Producto deseleccionado
                            console.log("Producto deseleccionado: " + this.value);
                            // Aquí puedes eliminar el estado de selección de la variable
                        }
                    });
                    productoElemento.appendChild(checkboxElemento);

                    // Agregar el producto al contenedor de productos
                    document.getElementById("productos").appendChild(productoElemento);
                });
            })
            .catch(error => console.error('Error al leer el archivo CSV:', error));
    }
</script>

</body>
</html>
